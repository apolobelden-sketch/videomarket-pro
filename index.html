
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Kids - Libros Interactivos</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background-color: #ffffff; /* Bordes blancos */
            font-family: 'Segoe UI', Roboto, sans-serif;
            overflow: hidden;
        }

        /* Contenedor principal */
        .snap-container {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .video-page {
            height: 100vh;
            width: 100%;
            max-width: 450px; /* Borde blanco lateral */
            scroll-snap-align: start;
            position: relative;
            background: #000;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        /* T√çTULO DE LA P√ÅGINA ARRIBA */
        .header-nombre {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 20px;
            text-align: center;
            background: linear-gradient(rgba(0,0,0,0.6), transparent);
            color: white;
            z-index: 10;
            font-size: 1.2rem;
            font-weight: bold;
            letter-spacing: 1px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Capa inferior de botones */
        .overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 30px 15px;
            background: linear-gradient(transparent, rgba(0,0,0,0.9));
            color: white;
            z-index: 10;
        }

        .info { margin-bottom: 15px; }
        .titulo-libro { font-size: 1.3rem; font-weight: bold; }

        .btn-group { display: flex; flex-direction: column; gap: 8px; }
        .btn {
            padding: 12px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: bold;
            text-align: center;
            color: white;
            font-size: 0.9rem;
        }

        .btn-pago { background: #009EE3; }
        .btn-telegram { background: #24A1DE; }
        .btn-pdf { background: #28a745; border: 1px solid white; }
    </style>
</head>
<body>

    <div id="app" class="snap-container"></div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const yaPago = params.get('pago') === 'exitoso' || params.get('status') === 'approved';

        const misLibros = [
            {
                titulo: "Cuenta las Manzanas",
                video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/cuenta%20las%20manzanas.mp4",
                pagoUrl: "https://mpago.la/2i9aDso",
                pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/cuenta%20las%20manzanas.pdf",
                telegramUrl: "https://t.me/mis_libros_gen_bot"
            },
            {
                titulo: "La Familia",
                video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/familia5.mp4",
                pagoUrl: "https://mpago.la/2X3uMmY",
                pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/familia5.pdf",
                telegramUrl: "https://t.me/mis_libros_gen_bot"
            },
            {
                titulo: "Coloreando",
                video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/coloreando6.mp4",
                pagoUrl: "https://mpago.la/2fCekEw",
                pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/coloreando6.pdf",
                telegramUrl: "https://t.me/mis_libros_gen_bot"
            }
        ];

        const contenedor = document.getElementById('app');

        misLibros.forEach((libro, i) => {
            const page = document.createElement('div');
            page.className = 'video-page';
            
            page.innerHTML = `
                <div class="header-nombre">üåà Happy Kids</div>
                
                <video loop playsinline onclick="this.paused ? this.play() : this.pause()">
                    <source src="${libro.video}" type="video/mp4">
                </video>
                
                <div class="overlay">
                    <div class="info">
                        <div class="titulo-libro">${libro.titulo}</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">üí∞ Solo $12 MXN</div>
                    </div>
                    
                    <div class="btn-group">
                        ${yaPago ? `
                            <a href="${libro.pdfUrl}" download class="btn btn-pdf">üì• DESCARGAR PDF</a>
                        ` : `
                            <a href="${libro.pagoUrl}" class="btn btn-pago">üí≥ COMPRAR AHORA</a>
                            <a href="${libro.telegramUrl}" class="btn btn-telegram">‚úàÔ∏è PAGO POR TRANSFERENCIA</a>
                        `}
                    </div>
                </div>
            `;
            contenedor.appendChild(page);
        });

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const video = entry.target.querySelector('video');
                if (entry.isIntersecting) {
                    video.play().catch(() => {});
                } else {
                    video.pause();
                }
            });
        }, { threshold: 0.6 });

        document.querySelectorAll('.video-page').forEach(div => observer.observe(div));
    </script>
</body>
</html
