<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Kids - Libros Interactivos</title>
    <style>
        :root {
            --primary: #FF6B6B;
            --secondary: #4ECDC4;
            --accent: #FFE66D;
            --bg: #f7f9fc;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 { 
            color: var(--primary); 
            text-align: center; 
            margin: 20px 0;
            font-size: 1.8rem;
        }
        .contenedor {
            display: flex;
            flex-direction: column;
            gap: 25px;
            width: 100%;
            max-width: 600px; /* Tama침o ideal para celulares y tablets */
        }
        .video-container {
            background: white;
            border-radius: 20px;
            padding: 0; /* Quitamos padding para que el video luzca m치s */
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            text-align: center;
        }
        /* ESTO HACE LOS VIDEOS M츼S GRANDES */
        video { 
            width: 100%; 
            display: block;
            aspect-ratio: 16 / 9; /* Mantiene la proporci칩n de cine */
            background: #000;
        }
        .card-content {
            padding: 20px;
        }
        .titulo-tema { 
            font-weight: bold; 
            font-size: 1.4rem; 
            margin-bottom: 5px; 
            color: #333; 
        }
        .badge-precio { 
            background: var(--accent); 
            padding: 5px 15px; 
            border-radius: 20px; 
            display: inline-block; 
            margin-bottom: 15px; 
            font-weight: bold;
            color: #555;
        }
        .btn-group { 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
        }
        .btn {
            padding: 15px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: bold;
            transition: 0.3s;
            color: white;
            font-size: 1rem;
            display: block;
        }
        .btn-pago { background-color: #009EE3; }
        .btn-telegram { background-color: #24A1DE; }
        .btn-pdf { 
            background-color: #28a745; 
            font-size: 1.2rem; 
            border: 2px solid #1e7e34;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        .btn:hover { opacity: 0.9; }
    </style>
</head>
<body>

    <h1>游깯 Happy Kids: Libros Did치cticos</h1>
    <div id="app" class="contenedor"></div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const yaPago = params.get('pago') === 'exitoso' || 
                       params.get('status') === 'approved' || 
                       params.get('collection_status') === 'approved';

        const misLibros = [
            {
                titulo: "Cuenta las Manzanas",
                video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/cuenta%20las%20manzanas.mp4",
                pagoUrl: "https://mpago.la/2i9aDso",
                pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/cuenta%20las%20manzanas.pdf",
                telegramUrl: "https://t.me/mis_libros_gen_bot"
            },
            {
                titulo: "La Familia",
                video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/familia5.mp4",
                pagoUrl: "https://mpago.la/2X3uMmY",
                pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/familia5.pdf",
                telegramUrl: "https://t.me/mis_libros_gen_bot"
            },
            {
                titulo: "Coloreando",
                video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/coloreando6.mp4",
                pagoUrl: "https://mpago.la/2fCekEw",
                pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/coloreando6.pdf",
                telegramUrl: "https://t.me/mis_libros_gen_bot"
            }
        ];

        const contenedor = document.getElementById('app');

        misLibros.forEach((libro, i) => {
            const seccion = document.createElement('div');
            seccion.className = 'video-container';
            
            seccion.innerHTML = `
                <video id="v${i}" controls>
                    <source src="${libro.video}" type="video/mp4">
                </video>
                <div class="card-content">
                    <div class="titulo-tema">${libro.titulo}</div>
                    <div class="badge-precio">游눯 Solo $12</div>

                    <div class="btn-group">
                        ${yaPago ? `
                            <a href="${libro.pdfUrl}" download class="btn btn-pdf">
                                游닌 DESCARGAR MI PDF AHORA
                            </a>
                        ` : `
                            <a href="${libro.pagoUrl}" class="btn btn-pago">
                                游눱 Pagar con Mercado Pago
                            </a>
                            <a href="${libro.telegramUrl}" class="btn btn-telegram">
                                九걾잺 Pago por Transferencia (Telegram)
                            </a>
                        `}
                    </div>
                </div>
            `;
            contenedor.appendChild(seccion);
        });

        const todosLosVideos = document.querySelectorAll('video');
        todosLosVideos.forEach(v => {
            v.addEventListener('play', () => {
                todosLosVideos.forEach(otro => { if (otro !== v) otro.pause(); });
            });
        });
    </script>
</body>
</html>
