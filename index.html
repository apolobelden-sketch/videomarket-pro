
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Kids - Libros Interactivos</title>

<style>
body{
    margin:0;
    padding:0;
    font-family:'Segoe UI', sans-serif;
    background:#000;
    overflow:hidden;
}

.tienda-header{
    position:fixed;
    top:0;
    width:100%;
    text-align:center;
    padding:15px;
    font-size:1.5rem;
    font-weight:bold;
    color:white;
    background:linear-gradient(to bottom, rgba(0,0,0,0.8), transparent);
    z-index:1000;
}

.contenedor{
    height:100vh;
    overflow-y:scroll;
    scroll-snap-type:y mandatory;
}

.libro-card{
    height:100vh;
    width:100%;
    position:relative;
    scroll-snap-align:start;
    overflow:hidden;
    background:#000;
}

video{
    width:100%;
    height:100%;
    object-fit:cover;
}

.overlay-info{
    position:absolute;
    bottom:0;
    width:100%;
    padding:25px;
    background:linear-gradient(to top, rgba(0,0,0,0.9), transparent);
    color:white;
    box-sizing:border-box;
}

.titulo-libro{
    font-size:1.4rem;
    font-weight:bold;
    margin-bottom:5px;
}

.precio-tag{
    color:#FFE66D;
    margin-bottom:15px;
    font-weight:bold;
}

.btn-group{
    display:flex;
    flex-direction:column;
    gap:10px;
}

.btn{
    padding:14px;
    border-radius:12px;
    text-decoration:none;
    font-weight:bold;
    text-align:center;
    color:white;
    font-size:1rem;
}

.btn-pago{ background:#009EE3; }
.btn-telegram{ background:#24A1DE; }
.btn-pdf{ background:#28a745; }
</style>
</head>

<body>

<div class="tienda-header">üåà Happy Kids</div>
<div id="app" class="contenedor"></div>

<script>

const params = new URLSearchParams(window.location.search);
const yaPago = params.get('pago') === 'exitoso' || params.get('status') === 'approved';

const misLibros = [
{
    titulo:"Cuenta las Manzanas",
    video:"https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/cuenta%20las%20manzanas.mp4",
    pagoUrl:"https://mpago.la/2i9aDso",
    pdfUrl:"https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/cuenta%20las%20manzanas.pdf",
    telegramUrl:"https://t.me/mis_libros_gen_bot"
},
{
    titulo:"La Familia",
    video:"https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/familia5.mp4",
    pagoUrl:"https://mpago.la/2X3uMmY",
    pdfUrl:"https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/familia5.pdf",
    telegramUrl:"https://t.me/mis_libros_gen_bot"
},
{
    titulo:"Coloreando",
    video:"https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/coloreando6.mp4",
    pagoUrl:"https://mpago.la/2fCekEw",
    pdfUrl:"https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/coloreando6.pdf",
    telegramUrl:"https://t.me/mis_libros_gen_bot"
}
{
    titulo: "COLOREA Y APRENDE",
    video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/colorea%20y%20aprende4.mp4",
    pagoUrl: "https://mpago.la/2X3MqEa",
    pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/colorea%20y%20aprende3.pdf",
    telegramUrl: "https://t.me/mis_libros_gen_bot"
  },
  {
    titulo: "CUENTA Y COLOREA",
    video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/cuenta%20y%20colorea3.mp4",
    pagoUrl: "https://mpago.la/2riNyBu",
    pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/cuenta%20y%20colorea4.pdf",
    telegramUrl: "https://t.me/mis_libros_gen_bot"
  },
  {
    titulo: "APRENDIENDO A ESCRIBIR",
    video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/escribir2.mp4",
    pagoUrl: "TU_URL_DE_PAGO_AQU√ç",
    pdfUrl: "https://mpago.la/1phomeu",
    telegramUrl: "https://t.me/mis_libros_gen_bot"
  }

const contenedor = document.getElementById('app');

misLibros.forEach((libro)=>{
    const card = document.createElement('div');
    card.className='libro-card';

    card.innerHTML=`
        <video controls playsinline preload="metadata">
            <source src="${libro.video}" type="video/mp4">
        </video>

        <div class="overlay-info">
            <div class="titulo-libro">${libro.titulo}</div>
            <div class="precio-tag">üí∞ Solo $12 MXN</div>

            <div class="btn-group">
                ${yaPago ? `
                    <a href="${libro.pdfUrl}" download class="btn btn-pdf">
                        üì• DESCARGAR PDF
                    </a>
                ` : `
                    <a href="${libro.pagoUrl}" class="btn btn-pago">
                        üí≥ COMPRAR AHORA
                    </a>
                    <a href="${libro.telegramUrl}" class="btn btn-telegram">
                        ‚úàÔ∏è PAGO POR TRANSFERENCIA
                    </a>
                `}
            </div>
        </div>
    `;

    contenedor.appendChild(card);
});

/* üî• CONTROL PARA QUE SOLO UN VIDEO SE REPRODUZCA */
document.addEventListener('play', function(e){
    const videos = document.querySelectorAll('video');
    videos.forEach(video => {
        if(video !== e.target){
            video.pause();
        }
    });
}, true);

</script>

</body>
</html>
