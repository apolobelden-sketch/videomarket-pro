<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Kids - Libros Educativos</title>
    <style>
        body {
            margin: 0;
            font-family: 'Comic Sans MS', 'Chalkboard SE', cursive, sans-serif;
            background: linear-gradient(135deg, #e0f2f1 0%, #fff9c4 100%);
            background-attachment: fixed;
        }

        /* HEADER */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            text-align: center;
            padding: 15px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            z-index: 1000;
            border-bottom: 4px solid #81d4fa;
        }

        .header h1 { margin: 0; font-size: 2.2em; color: #0288d1; text-shadow: 2px 2px #b3e5fc; }

        .espacio-superior { height: 100px; }

        /* CONTENEDOR DE TARJETAS */
        .video-container {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            scroll-snap-align: start;
        }

        .card {
            background: white;
            width: 92%;
            max-width: 700px;
            padding: 20px;
            border-radius: 40px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            text-align: center;
            border: 6px solid #f1f8ff;
        }

        video { width: 100%; border-radius: 25px; background: #000; }

        .titulo-tema { font-size: 1.6em; color: #ef6c00; margin: 15px 0; font-weight: bold; }

        .badge-precio {
            background: #fff59d;
            color: #f57c00;
            padding: 5px 20px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 15px;
            border: 2px dashed #ffd54f;
        }

        /* BOTONES */
        .btn-group { display: flex; flex-direction: column; gap: 10px; align-items: center; }

        .btn {
            width: 80%;
            padding: 12px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1em;
            transition: 0.3s;
            display: inline-block;
        }

        /* Mercado Pago */
        .btn-pago { background: #ff5252; color: white; box-shadow: 0 4px 10px rgba(255, 82, 82, 0.3); }

        /* Telegram */
        .btn-telegram { background: #0088cc; color: white; box-shadow: 0 4px 10px rgba(0, 136, 204, 0.3); }

        /* Descarga PDF (Oculto) */
        .btn-pdf {
            display: none;
            background: #4caf50;
            color: white;
            font-size: 1.2em;
            padding: 18px;
            box-shadow: 0 6px 15px rgba(76, 175, 80, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .btn:hover { transform: translateY(-3px); filter: brightness(1.1); }
    </style>
</head>
<body>

    <div class="header">
        <h1>üåà Happy Kids ‚ú®</h1>
    </div>

    <div class="espacio-superior"></div>
    <div id="app"></div>

    <script>
        // L√≥gica de URL para mostrar descarga tras pago
        const params = new URLSearchParams(window.location.search);
        const yaPago = params.get('pago') === 'exitoso';

        const misLibros = [
            {
                titulo: "Cuenta las Manzanas",
                video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/cuenta%20las%20manzanas.mp4",
                pagoUrl: "https://mpago.la/2i9aDso",
                pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/cuenta%20las%20manzanas.pdf",
                telegramUrl: "https://t.me/TU_BOT_AQUI" // Pon aqu√≠ el link de tu bot
            },
            {
                titulo: "La Familia",
                video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/familia5.mp4",
                pagoUrl: "https://mpago.la/2X3uMmY",
                pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/familia5.pdf",
                telegramUrl: "https://t.me/TU_BOT_AQUI"
            },
            {
                titulo: "Coloreando",
                video: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/Videos/coloreando6.mp4",
                pagoUrl: "https://mpago.la/2fCekEw",
                pdfUrl: "https://nmdljfwudjkqrzvuuqvq.supabase.co/storage/v1/object/public/pdfs/coloreando6.pdf",
                telegramUrl: "https://t.me/TU_BOT_AQUI"
            }
            // Puedes seguir agregando los dem√°s aqu√≠...
        ];

        const contenedor = document.getElementById('app');

        misLibros.forEach((libro, i) => {
            const seccion = document.createElement('div');
            seccion.className = 'video-container';
            
            seccion.innerHTML = `
                <div class="card">
                    <video id="v${i}" controls>
                        <source src="${libro.video}" type="video/mp4">
                    </video>
                    <div class="titulo-tema">${libro.titulo}</div>
                    <div class="badge-precio">üí∞ Solo $12</div>
                    
                    <div class="btn-group">
                        <a href="${libro.pagoUrl}" class="btn btn-pago" id="btnP${i}">
                            üí≥ Pagar con Mercado Pago
                        </a>
                        <a href="${libro.telegramUrl}" class="btn btn-telegram" id="btnT${i}">
                            ‚úàÔ∏è Pago por Transferencia (Telegram)
                        </a>

                        <a href="${libro.pdfUrl}" download class="btn btn-pdf" id="btnD${i}">
                            üì• DESCARGAR MI PDF AHORA
                        </a>
                    </div>
                </div>
            `;
            contenedor.appendChild(seccion);

            if (yaPago) {
                document.getElementById(`btnP${i}`).style.display = 'none';
                document.getElementById(`btnT${i}`).style.display = 'none';
                document.getElementById(`btnD${i}`).style.display = 'inline-block';
            }
        });

        const todosLosVideos = document.querySelectorAll('video');
        todosLosVideos.forEach(v => {
            v.addEventListener('play', () => {
                todosLosVideos.forEach(otro => { if (otro !== v) otro.pause(); });
            });
        });
    </script>
</body>
</html>
